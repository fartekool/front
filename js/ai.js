// Генератор ответов ИИ для администрации

function generateAdminAIResponse(question) {
    const responses = {
        'согласован': {
            answer: `Порядок согласования муниципального контракта регулируется Федеральным законом № 44-ФЗ и Регламентом администрации г. Нижнего Новгорода. Основные этапы:<br><br>1. <strong>Подготовка проекта контракта</strong> - отделом закупок<br>2. <strong>Внутреннее согласование</strong> - юридическим, финансовым отделами (3 рабочих дня)<br>3. <strong>Внесение в реестр</strong> - размещение в ЕИС<br>4. <strong>Подписание</strong> - уполномоченным лицом администрации<br><br>Общий срок - до 10 рабочих дней.`,
            sources: ['#', '#'],
            sourcesText: ['Федеральный закон № 44-ФЗ "О контрактной системе"', 'Регламент администрации г. Н.Новгорода']
        },
        'конкурс': {
            answer: `Требования к конкурсной документации установлены ст. 50 Федерального закона № 44-ФЗ. Обязательные разделы:<br><br>1. <strong>Извещение о проведении конкурса</strong><br>2. <strong>Техническое задание</strong><br>3. <strong>Инструкция для участников</strong><br>4. <strong>Критерии оценки заявок</strong><br>5. <strong>Проект контракта</strong><br><br>Документация должна быть размещена в ЕИС не менее чем за 15 дней до окончания подачи заявок.`,
            sources: ['#', '#'],
            sourcesText: ['Статья 50 ФЗ-44 "Содержание конкурсной документации"', 'Методические рекомендации Минэкономразвития']
        },
        'обращен': {
            answer: `Сроки рассмотрения обращений граждан установлены Федеральным законом № 59-ФЗ:<br><br>• <strong>Обычные обращения</strong> - 30 дней<br>• <strong>Первоочередные</strong> (срочные) - 15 дней<br>• <strong>Электронные обращения</strong> - 30 дней<br><br>Продление срока возможно еще на 30 дней с уведомлением заявителя. Все обращения регистрируются в течение 3 дней с момента поступления.`,
            sources: ['#', '#'],
            sourcesText: ['Федеральный закон № 59-ФЗ "О порядке рассмотрения обращений"', 'Регламент работы с обращениями граждан']
        },
        'землепользование': {
            answer: `Порядок внесения изменений в правила землепользования и застройки (ПЗЗ):<br><br>1. <strong>Инициатива</strong> - от органов власти, граждан или организаций<br>2. <strong>Подготовка проекта изменений</strong> - комитетом по градостроительству<br>3. <strong>Общественные обсуждения</strong> - не менее 30 дней<br>4. <strong>Согласование</strong> - с федеральными органами при необходимости<br>5. <strong>Утверждение</strong> - Городской Думой<br><br>Общий срок процедуры - от 3 до 6 месяцев.`,
            sources: ['#', '#'],
            sourcesText: ['Градостроительный кодекс РФ, статья 32', 'Правила землепользования г. Нижнего Новгорода']
        },
        'документ': {
            answer: `Требования к оформлению служебных документов в администрации:<br><br>• <strong>Бланк документа</strong> - установленной формы с гербом<br>• <strong>Реквизиты</strong> - наименование, дата, номер, подпись<br>• <strong>Согласование</strong> - визы согласующих должностных лиц<br>• <strong>Регистрация</strong> - в журнале входящей/исходящей документации<br>• <strong>Срок хранения</strong> - согласно номенклатуре дел<br><br>Все документы должны соответствовать ГОСТ Р 7.0.97-2016.`,
            sources: ['#', '#'],
            sourcesText: ['ГОСТ Р 7.0.97-2016 "Система стандартов по информации"', 'Инструкция по делопроизводству администрации']
        }
    };
    
    for (const [key, response] of Object.entries(responses)) {
        if (question.toLowerCase().includes(key)) {
            return response;
        }
    }
    
    return {
        answer: `По вашему запросу "${question}" найдена следующая информация в нормативных документах администрации и действующем законодательстве.<br><br>Рекомендуется обратиться к соответствующим разделам:<br>• Федеральное законодательство<br>• Муниципальные правовые акты<br>• Регламенты администрации<br><br>Для получения официального заключения обратитесь в юридический отдел.`,
        sources: ['#', '#'],
        sourcesText: ['Банк муниципальных правовых актов', 'Федеральное законодательство РФ']
    };
}

function copyResponse() {
    const responseText = document.getElementById('responseText');
    if (!responseText) return;
    
    navigator.clipboard.writeText(responseText.innerText)
        .then(() => alert('Ответ скопирован в буфер обмена'))
        .catch(err => alert('Ошибка копирования: ' + err));
}

function saveResponse() {
    alert('Функция сохранения ответа будет реализована в будущем обновлении');
}

